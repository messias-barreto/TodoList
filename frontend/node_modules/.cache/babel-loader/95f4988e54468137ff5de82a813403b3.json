{"ast":null,"code":"var _jsxFileName = \"/home/messiasbarreto/Documents/Projects/Personal/ReactJs/todolistweb/src/pages/Home/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport ICard from \"../../components/Card\";\nimport Menu from \"../../components/Menu\";\nimport styles from \"./styles.module.css\";\nimport axios from \"axios\";\nimport Header from \"../../components/Header\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../Contexts/Auth/AuthContext\";\nimport { getToken } from \"../../hooks/localstorage\";\nimport { getAllWorks } from \"./service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst url = 'http://127.0.0.1:3200';\nexport default function Home() {\n  _s();\n\n  const [works, setWorks] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [showInfo, setShowInfo] = useState(false);\n  const user = useContext(AuthContext);\n\n  const handleColse = () => setShowInfo(false);\n\n  const handleWorks = async () => {\n    var _user$user;\n\n    // const token = await getToken();\n    // const headers = {\n    //     headers: {'Authorization': `Bearer ${token}` }\n    // }\n    // await axios.get(`${url}/works/${ user.user?.id }`, headers).\n    //     then(res => {\n    //         setWorks(res.data.data !== undefined ? res.data.data : [])\n    //     })\n    //     .catch((error) => {\n    //         return (error)\n    //     })\n    const data = await getAllWorks((_user$user = user.user) === null || _user$user === void 0 ? void 0 : _user$user.id).then(res => {\n      console.log(res);\n    });\n  };\n\n  const handleTasks = async id => {\n    const token = await getToken();\n    const headers = {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    };\n    await axios.get(`${url}/tasks/${id}`, headers).then(res => setTasks(res.data.data));\n  };\n\n  useEffect(() => {\n    handleWorks();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.home,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          title: \"Trabalhos\",\n          subtitle: \"Confira aqui todos os trabalhos adicionados at\\xE9 agora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.works,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: styles.container,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: works.map(work => /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            className: styles.works,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `tasks/${work.id}`,\n              style: {\n                textDecoration: 'none',\n                color: '#000'\n              },\n              children: /*#__PURE__*/_jsxDEV(ICard, {\n                title: `${work.title}`,\n                text: `${work.qtd_task}`,\n                funcao: () => handleTasks(work.id !== undefined ? work.id : '')\n              }, work.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"+GYCTKY+bz2gpUH6mv8sRV6LaBQ=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useContext","useEffect","useState","Col","Container","Row","ICard","Menu","styles","axios","Header","Link","AuthContext","getToken","getAllWorks","url","Home","works","setWorks","tasks","setTasks","showInfo","setShowInfo","user","handleColse","handleWorks","data","id","then","res","console","log","handleTasks","token","headers","get","home","container","map","work","textDecoration","color","title","qtd_task","undefined"],"sources":["/home/messiasbarreto/Documents/Projects/Personal/ReactJs/todolistweb/src/pages/Home/index.tsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { Button, Col, Container, Offcanvas, Row } from \"react-bootstrap\";\nimport ICard from \"../../components/Card\";\nimport Menu from \"../../components/Menu\";\nimport Modal from \"../../components/Modal\";\nimport styles from \"./styles.module.css\";\nimport axios from \"axios\";\nimport Header from \"../../components/Header\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../Contexts/Auth/AuthContext\";\nimport { getToken } from \"../../hooks/localstorage\";\nimport { getAllWorks } from \"./service\";\nconst url = 'http://127.0.0.1:3200';\n\ninterface IWork {\n    id?: string;\n    title?: string;\n    description?: string;\n    status: boolean;\n    qtd_task: number;\n}\n\nexport default function Home() {\n    const [works, setWorks] = useState([]);\n    const [tasks, setTasks] = useState([]);\n    const [showInfo, setShowInfo] = useState(false);\n    const user = useContext(AuthContext);\n\n    const handleColse = () => setShowInfo(false);\n\n    const handleWorks = async () => {\n        // const token = await getToken();\n        // const headers = {\n        //     headers: {'Authorization': `Bearer ${token}` }\n        // }\n          \n        // await axios.get(`${url}/works/${ user.user?.id }`, headers).\n        //     then(res => {\n        //         setWorks(res.data.data !== undefined ? res.data.data : [])\n        //     })\n        //     .catch((error) => {\n        //         return (error)\n        //     })\n\n\n        const data = await getAllWorks(user.user?.id).then(res => {\n            console.log(res)\n        })\n\n    }\n\n    const handleTasks = async (id: string) => {\n        const token = await getToken();\n        const headers = {\n            headers: {'Authorization': `Bearer ${token}` }\n        }\n        await axios.get(`${url}/tasks/${id}`, headers).then(res => setTasks(res.data.data))\n    }\n\n    useEffect(() => {\n        handleWorks()\n    }, [])\n    return (\n        <>\n            <Menu />\n            <div className={styles.home}>\n                <Container>\n                   <Header title=\"Trabalhos\" subtitle=\"Confira aqui todos os trabalhos adicionados atÃ© agora\" />\n                </Container>\n            </div>\n\n            <div className={styles.works}>\n            {/* <Offcanvas show={false} >\n        <Offcanvas.Header closeButton>\n          <Offcanvas.Title>Nome User</Offcanvas.Title>\n        </Offcanvas.Header>\n        <Offcanvas.Body>\n          \n        </Offcanvas.Body>\n      </Offcanvas> */}\n                <Container className={styles.container}>\n                    <Row>\n                        {\n                            works.map((work: IWork) => \n                                    <Col md={4} className={styles.works}>\n                                        <Link to={`tasks/${work.id}`} style={{ textDecoration: 'none', color: '#000' }}>\n                                            <ICard  key={work.id} title={`${work.title}`} text={`${work.qtd_task}`} \n                                                funcao={() => handleTasks(work.id !== undefined ? work.id : '')} /> \n                                        </Link>\n                                    </Col>\n                            )\n                        }\n                    </Row>\n                </Container>\n            </div>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
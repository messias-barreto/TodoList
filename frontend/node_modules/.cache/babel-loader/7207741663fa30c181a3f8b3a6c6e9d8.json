{"ast":null,"code":"var _jsxFileName = \"/home/messiasbarreto/Documents/Projects/Personal/ReactJs/todolistweb/src/Contexts/Auth/AuthContextProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useApi } from \"../../hooks/useApi\";\nimport { AuthContext } from \"./AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const api = useApi();\n\n  const signin = async (login, password) => {\n    const data = await api.singin(login, password);\n    const user = {\n      name: data.data.name,\n      email: data.data.email,\n      login: data.data.login\n    };\n\n    if (data.token) {\n      setUser(user);\n      return true;\n    }\n\n    return false;\n  };\n\n  const signout = async () => {\n    await api.logout();\n    setUser(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      signin,\n      signout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AuthProvider, \"nQSPUC6Lqy7F2KLcZRUauwvMcmc=\", false, function () {\n  return [useApi];\n});\n\n_c = AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useState","useApi","AuthContext","AuthProvider","children","user","setUser","api","signin","login","password","data","singin","name","email","token","signout","logout"],"sources":["/home/messiasbarreto/Documents/Projects/Personal/ReactJs/todolistweb/src/Contexts/Auth/AuthContextProvider.tsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useApi } from \"../../hooks/useApi\"\nimport { User } from \"../../Types/User\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport const AuthProvider = ({ children }: {children: JSX.Element}) => {\n    const [user, setUser] = useState<User | null>(null)\n    const api = useApi();\n\n    const signin = async (login: string, password: string) => {\n        const data = await api.singin(login, password);\n        const user = {\n            name: data.data.name,\n            email: data.data.email,\n            login: data.data.login\n        }\n        if(data.token) {\n            setUser(user);\n            return true;\n        }\n        return false;\n    }\n\n    const signout = async () => {\n        await api.logout();\n        setUser(null);\n    }\n\n    return (\n        <AuthContext.Provider value={{ user, signin, signout }}>\n            {children}\n        </AuthContext.Provider>\n    )\n}"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,SAASC,WAAT,QAA4B,eAA5B;;AAEA,OAAO,MAAMC,YAAY,GAAG,QAA2C;EAAA;;EAAA,IAA1C;IAAEC;EAAF,CAA0C;EACnE,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAc,IAAd,CAAhC;EACA,MAAMO,GAAG,GAAGN,MAAM,EAAlB;;EAEA,MAAMO,MAAM,GAAG,OAAOC,KAAP,EAAsBC,QAAtB,KAA2C;IACtD,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,MAAJ,CAAWH,KAAX,EAAkBC,QAAlB,CAAnB;IACA,MAAML,IAAI,GAAG;MACTQ,IAAI,EAAEF,IAAI,CAACA,IAAL,CAAUE,IADP;MAETC,KAAK,EAAEH,IAAI,CAACA,IAAL,CAAUG,KAFR;MAGTL,KAAK,EAAEE,IAAI,CAACA,IAAL,CAAUF;IAHR,CAAb;;IAKA,IAAGE,IAAI,CAACI,KAAR,EAAe;MACXT,OAAO,CAACD,IAAD,CAAP;MACA,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;EACH,CAZD;;EAcA,MAAMW,OAAO,GAAG,YAAY;IACxB,MAAMT,GAAG,CAACU,MAAJ,EAAN;IACAX,OAAO,CAAC,IAAD,CAAP;EACH,CAHD;;EAKA,oBACI,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAED,IAAF;MAAQG,MAAR;MAAgBQ;IAAhB,CAA7B;IAAA,UACKZ;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CA5BM;;GAAMD,Y;UAEGF,M;;;KAFHE,Y"},"metadata":{},"sourceType":"module"}